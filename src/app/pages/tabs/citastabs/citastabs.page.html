<ion-header *ngIf="!filtro" class="animated fadeInDown">
  <ion-toolbar class="header">
    <ion-title>
      Citas
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>


  <div *ngIf="filtro" class="animated fadeInDown">

    <ion-grid fixed>
      <ion-row>
        <ion-col class="dstart" size="4">
          <ion-button class="cancel" (click)="filter(1)">
            Cancelar
          </ion-button>
        </ion-col>

        <ion-col size="4">
          <h3 style="font-size: 12px;font-weight: 700;text-align: center">Filtros</h3>
        </ion-col>
        <ion-col style="display: flex;justify-content: center" size="12">
          <div class="animated bounceInRight delay-0.5s" scrollX="true" style="white-space: nowrap;overflow-x: auto;">
            <ion-chip (click)="all()">
              <ion-label>Todas</ion-label>
            </ion-chip>
            <ion-chip (click)="pendingCites()">
              <ion-label>Pendientes</ion-label>
            </ion-chip>
            <ion-chip (click)="acceptCites()">
              <ion-label>Aceptadas</ion-label>
            </ion-chip>
            <ion-chip (click)="cancelCites()">
              <ion-label>Canceladas</ion-label>
            </ion-chip>
            <ion-chip>
              <ion-label>De mayor a menor</ion-label>
            </ion-chip>
            <ion-chip>
              <ion-label>De menor a mayor</ion-label>
            </ion-chip>
          </div>
        </ion-col>
        <ion-col size="12">
          <ion-item lines="none">
            <ion-label style="font-weight: 600;">Fecha de la cita</ion-label>
            <ion-datetime style="    color: #0c66b5 ;
                font-weight: 600 ;" [value]="minDate" [monthNames]="monthNames" doneText="Aceptar"
              cancelText="Cancelar" displayFormat="DD MMMM YYYY"></ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>



  </div>


  <div *ngIf="filtro" class="oscuro">

  </div>

  <ion-segment scrollable (ionChange)="segmentChanged($event)">
    <ion-segment-button value="citas" checked>
      <ion-label style="text-transform: initial;    border-radius: 9px; ">Mis citas</ion-label>
    </ion-segment-button>
    <ion-segment-button value="newcita">
      <ion-label style="text-transform: initial;    border-radius: 9px; ">Nueva cita</ion-label>
    </ion-segment-button>
  </ion-segment>

  <ion-list *ngIf="segemt == 'citas'" lines="none">
    <div style="margin-bottom: 42px;" *ngIf="citas.length>0">
     
      <ion-button *ngIf="!filtro" style="position: absolute;right: 10px;" class="butt" (click)="filter(1)">
        <ion-icon slot="icon-only" name="options"></ion-icon>
      </ion-button>
    </div>

    <ion-item-sliding *ngFor="let item of citas">
      <ion-item class="list">
        <ion-avatar slot="start">
          <img src="{{item.foto}}" />
        </ion-avatar>
        <ion-label>
          <h2> <strong>{{item.especialidad | titlecase}}</strong>
            <ion-chip style="position: absolute; right: 9px;" color="success" *ngIf="item.estado == 'Aceptada'" mode="md">
              <ion-label>Aceptada</ion-label>
            </ion-chip>
            <ion-chip style="position: absolute; right: 9px;" color="secondary" *ngIf="item.estado == 'Pendiente'" mode="md">
              <ion-label>Pendiente</ion-label>
            </ion-chip>
            <ion-chip style="position: absolute; right: 9px;" color="danger" *ngIf="item.estado == 'Cancelada'" mode="md">
              <ion-label>Cancelada</ion-label>
            </ion-chip>
          </h2>
          <h3>Doctor: <strong>{{item.profesional | titlecase}}</strong></h3>
          <p *ngIf="item.estado == 'Aceptada'">Aceptada el: {{item.updateAt  | date:'medium'}}</p>
          <p *ngIf="item.estado == 'Pendiente'">Enviada el: {{item.createdAt  | date:'medium'}}</p>
          <p *ngIf="item.estado == 'Cancelada'">Cancelada el: {{item.updateAt  | date:'medium'}}</p>
        </ion-label>
      </ion-item>
      <ion-item-options class="itemOptions" side="end">
        <ion-item-option style="text-transform: initial;    border-radius: 9px;" (click)="unread(item.id)">Detalles
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>

    <h3 *ngIf="citas.length<1" class="nofound">No hay ninguna cita pendiente</h3>

  </ion-list>

  <div *ngIf="segemt == 'newcita'">
    <ion-col size="12">
      <ion-searchbar placeholder="Buscador" (ionChange)="buscador($event)" animated></ion-searchbar>
    </ion-col>
   
    
    <ion-col size="12">
      <div class="animated bounceInRight delay-0.5s" scrollX="true" style="white-space: nowrap;overflow-x: auto;">
        <ion-chip (click)="lisTMedical()">
          <ion-label>Todos</ion-label>
        </ion-chip>
        <ion-chip (click)="goMedicalEspecialidad(item.especialidad)" *ngFor="let item of categorias">
          <ion-label>{{item.especialidad | titlecase}}</ion-label>
        </ion-chip>
        
      </div>
    </ion-col>
    <ion-col size="12">
      <div *ngFor="let item of medicos" class="history1">
        <ion-grid fixed style="margin-top: 7px;margin-bottom: 7px;">
          <ion-row>
            <ion-col size="4" class="dcenter">
              <img class="imghistory" src="{{item.foto}}" alt="">
            </ion-col>
            <ion-col size="8">
              <h3 style="margin: 0px;"> {{item.nombre | titlecase}} {{item.apellido | titlecase}}</h3>
              <h3 style="    font-size: 18px;
                  margin: 3px 0px 3px 0px;">{{item.especialidad | titlecase}}</h3>
              <span style="color: gray;font-size: 12px">{{item.descripcioncorta }}</span>
            </ion-col>
            <ion-col class="dend" size="12">
              <ion-button (click)="godetail(item.id)" [routerLink]="['/detalle-nueva-cita']"  class="buttonNextInfo">
                Detalles
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <h3 *ngIf="medicos.length<1" class="nofound">No hay resultados</h3>
      
    </ion-col>
  </div>

</ion-content>