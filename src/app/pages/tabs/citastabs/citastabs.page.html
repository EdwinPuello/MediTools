<ion-header >
  <ion-toolbar class="header">
    <ion-title>
     Citas
    </ion-title>
    <ion-buttons (click)="openModal()" slot="end">
      <ion-icon slot="start" name="add"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
 
  <!-- 
    <ion-card-header tappable (click)="collapseCard = !collapseCard">
      <ion-card-title>New Event</ion-card-title>
    </ion-card-header>
    <ion-card-content *ngIf="!collapseCard">
 
      <ion-item>
        <ion-input type="text" placeholder="Title" [(ngModel)]="event.title"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" placeholder="Description" [(ngModel)]="event.desc"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label>Start</ion-label>
        <ion-datetime displayFormat="MM/DD/YYYY HH:mm" pickerFormat="MMM D:HH:mm" [(ngModel)]="event.startTime" [min]="minDate"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label>End</ion-label>
        <ion-datetime displayFormat="MM/DD/YYYY HH:mm" pickerFormat="MMM D:HH:mm" [(ngModel)]="event.endTime" [min]="minDate"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label>All Day?</ion-label>
        <ion-checkbox [(ngModel)]="event.allDay"></ion-checkbox>
      </ion-item>
      <ion-button fill="outline" expand="block" (click)="addEvent()" [disabled]="event.title == ''">Add Event</ion-button>
 
    </ion-card-content>
  </ion-card>
 
  <ion-row>
    <ion-col size="4">
      <ion-button expand="block" [color]="calendar.mode == 'month' ? 'primary' : 'secondary'" (click)="changeMode('month')">Month</ion-button>
    </ion-col>
    <ion-col size="4">
      <ion-button expand="block" [color]="calendar.mode == 'week' ? 'primary' : 'secondary'" (click)="changeMode('week')">Week</ion-button>
    </ion-col>
    <ion-col size="4">
      <ion-button expand="block" [color]="calendar.mode == 'day' ? 'primary' : 'secondary'" (click)="changeMode('day')">Day</ion-button>
    </ion-col>
 
   
    <ion-col size="6" text-left>
      <ion-button fill="clear" (click)="back()">
        <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-col>


    <ion-col size="6" text-right>
      <ion-button fill="clear" (click)="next()">
        <ion-icon name="arrow-forward" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-col>
  </ion-row> -->
 
 <ion-grid fixed>
   <ion-row>
    <ion-col size="4" text-left>
      <ion-button fill="clear" (click)="back()">
          <fa-icon style="font-size: 20px" [icon]="faChevronLeft"></fa-icon>
        <!-- <ion-icon name="arrow-back" slot="icon-only"></ion-icon> -->
      </ion-button>
    </ion-col>
<ion-col size="4">
  <span class="titlemes">
      {{mes | titlecase }}
  </span>
</ion-col>
    <ion-col size="4" text-right>
      <ion-button fill="clear" (click)="next()">
          <fa-icon style="font-size: 20px" [icon]="faChevronRight"></fa-icon>
      </ion-button>
    </ion-col>
   </ion-row>
 </ion-grid>
  <calendar
  [monthviewEventDetailTemplate]="template"
  noEventsLabel="No hay citas pendientes"
  [eventSource]="eventSource" 
  [calendarMode]="calendar.mode" 
  [currentDate]="calendar.currentDate"
  (onEventSelected)="onEventSelected($event)"
  (onTitleChanged)="onViewTitleChanged($event)"
  (onTimeSelected)="onTimeSelected($event)" 
  [locale]="calendar.locale"
  startHour="6"
  endHour="20"
  step="30"
  startingDayWeek="1">
  </calendar>
  <ng-template #template let-showEventDetail="showEventDetail" let-selectedDate="selectedDate" let-noEventsLabel="noEventsLabel">
    <div class="citas" (click)="openalert(item)" *ngFor="let item of selectedDate.events">
      <div *ngIf="selectedDate.events.length > 0">
        <ion-grid fixed>
          <ion-row style="margin-top: 3%;" >
            <ion-col size="2">
              <img class="img" src="./assets/img/event.png" alt="">
            </ion-col>
            <ion-col size="8">
              <span style="font-weight: 700;color: #717171;">
                {{item.title}}
              </span>
              <span>
                <p style="color: gray">
                  {{item.desc}}
                </p>
              </span>
            </ion-col>
            <ion-col size="2">
                <ion-col size="4" text-right>
                    <ion-button class="buttoninfo" fill="clear">
                        <fa-icon style="font-size: 20px" [icon]="faChevronRight"></fa-icon>
                    </ion-button>
                  </ion-col>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </div>
    <div *ngIf="selectedDate.events.length == 0" class="citas">
      <span class="noeventos" >No hay citas pendientes para este dia</span>
    </div>

  </ng-template>
 
</ion-content>