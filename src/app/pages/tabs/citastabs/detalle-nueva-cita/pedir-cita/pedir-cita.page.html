<ion-header>
  <ion-toolbar>
    
    <ion-buttons slot="end">
      <ion-button (click)="dismiss()">Cerrar</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <!-- <ion-card>
    <ion-card-header tappable (click)="collapseCard = !collapseCard">
        <ion-card-title>New Event</ion-card-title>
      </ion-card-header>
      <ion-card-content *ngIf="!collapseCard">
   
        <ion-item class="list">
          <ion-input type="text" placeholder="Title" [(ngModel)]="event.title"></ion-input>
        </ion-item>
        <ion-item class="list">
          <ion-input type="text" placeholder="Description" [(ngModel)]="event.desc"></ion-input>
        </ion-item>
        <ion-item class="list">
          <ion-label>Start</ion-label>
          <ion-datetime displayFormat="MM/DD/YYYY HH:mm" pickerFormat="MMM D:HH:mm" [(ngModel)]="event.startTime" [min]="minDate"></ion-datetime>
        </ion-item>
        <ion-item class="list">
          <ion-label>End</ion-label>
          <ion-datetime displayFormat="MM/DD/YYYY HH:mm" pickerFormat="MMM D:HH:mm" [(ngModel)]="event.endTime" [min]="minDate"></ion-datetime>
        </ion-item>
        <ion-item class="list">
          <ion-label>All Day?</ion-label>
          <ion-checkbox [(ngModel)]="event.allDay"></ion-checkbox>
        </ion-item>
        <ion-button fill="outline" expand="block" (click)="addEvent()" [disabled]="event.title == ''">Add Event</ion-button>
   
      </ion-card-content>
    </ion-card> -->

  <ion-grid fixed>
    <ion-row>
      <ion-col size="3" text-left>
        <ion-button fill="clear" [disabled]="mesActual == DateCalendar" (click)="back()">
          <fa-icon style="font-size: 20px" [icon]="faChevronLeft"></fa-icon>
        </ion-button>
      </ion-col>
      <ion-col size="6">
        <span class="titlemes">
          {{mes | titlecase }}
        </span>
      </ion-col>
      <ion-col size="3" text-right>
        <ion-button fill="clear" (click)="next(DateCalendar)">
          <fa-icon style="font-size: 20px" [icon]="faChevronRight"></fa-icon>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>


  <calendar 
  [lockSwipeToPrev]="mesActual == DateCalendar"

   [monthviewEventDetailTemplate]="template" noEventsLabel="No hay citas pendientes"
    [eventSource]="eventSource" [calendarMode]="calendar.mode" [currentDate]="calendar.currentDate"
    (onEventSelected)="onEventSelected($event)" (onTitleChanged)="onViewTitleChanged($event)"
    (onCurrentDateChanged)="onCurrentDateChanged($event)"
    (onTimeSelected)="onTimeSelected($event)" [locale]="calendar.locale" startHour="6" endHour="20" step="30"
    startingDayWeek="1">
  </calendar>


  <ng-template #template let-showEventDetail="showEventDetail" let-selectedDate="selectedDate"
    let-noEventsLabel="noEventsLabel">
    <div style="margin-bottom: 3%;">
      <div class="citas" (click)="openalert(item)" *ngFor="let item of selectedDate.events">
        <div *ngIf="selectedDate.events.length > 0">
          <ion-grid fixed style="padding-left: 10px;">
            <ion-row style="margin-top: 3%;">
              <ion-col size="10">
                <span style="font-size: 21px;font-weight: bold;color: white;">
                  {{medico.especialidad | titlecase}}
                </span><br>
                <span style="font-weight: 600;color: white; top: 3px; position: relative;">
                  {{item.title | titlecase}}
                </span>
                <span>
                  <p style="color: white">
                    {{item.desc}} <br>
                    {{item.desc2}}
                  </p>
                </span>
              </ion-col>
              <ion-col size="2">
                <ion-icon class="nex" name="arrow-round-forward"></ion-icon>
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>
      </div>
      <div *ngIf="selectedDate.events.length == 0" class="notcitas">
        <span class="noeventos" style="color: white;">No hay cupos libres para este dia</span>
      </div>
    </div>

  </ng-template>

 

</ion-content>